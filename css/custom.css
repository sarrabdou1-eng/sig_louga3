/* Custom UI styles for SIG Louga */
body { margin:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#f5f7f9; color:#222; }
.topnav { height:60px; background:linear-gradient(135deg, #0b61a4 0%, #0d7bb8 100%); color:white; display:flex; align-items:center; padding:0 16px; box-shadow:0 4px 12px rgba(11,97,164,0.25); }
.topnav .brand { font-weight:700; margin-right:18px; font-size:20px; letter-spacing:0.5px; }
.topnav .navmenus { display:flex; gap:8px; flex:1; }
.topnav .navmenus a { color: #e8f4ff; text-decoration:none; padding:10px 14px; border-radius:8px; font-weight:600; cursor:pointer; transition:all 0.3s ease; border:1px solid transparent; display:flex; align-items:center; gap:6px; white-space:nowrap; }
.topnav .navmenus a:hover { background:rgba(255,255,255,0.15); border-color:rgba(255,255,255,0.2); transform:translateY(-1px); }

/* Icons styling */
.topnav .brand i,
.topnav .navmenus a i {
    font-size:16px;
    transition:all 0.3s ease;
}

.topnav .navmenus a:hover i {
    transform:scale(1.15) rotate(5deg);
}
.topnav .panel-toggle { background:rgba(255,255,255,0.1); border:none; font-size:22px; color:white; cursor:pointer; padding:8px 12px; border-radius:6px; transition:all 0.3s ease; }
.topnav .panel-toggle:hover { background:rgba(255,255,255,0.2); }

#app { display:flex; height: calc(100vh - 120px); }
#layersContainer { padding-bottom:48px; }
.panel { width:320px; background:linear-gradient(180deg,#ffffff 0%, #f8fafb 100%); box-shadow:0 8px 24px rgba(11,97,164,0.12); overflow:auto; border-radius:8px; margin:12px; }
.panel.left { border-right:2px solid rgba(11,97,164,0.08); }
.panel.right { border-left:2px solid rgba(11,97,164,0.08); }
#mapArea { flex:1; display:flex; }
#map { flex:1; }
.panel-header { padding:14px 16px; font-weight:700; display:flex; justify-content:space-between; align-items:center; border-bottom:2px solid rgba(11,97,164,0.06); background:linear-gradient(90deg, rgba(11,97,164,0.06), transparent); color:#0b61a4; }
.panel-header i { margin-right:6px; font-size:16px; }
.panel-body { padding:12px; }
.hide-btn { background:transparent; border:none; font-size:22px; cursor:pointer; color:#666; transition:all 0.2s ease; padding:4px 8px; border-radius:4px; display:flex; align-items:center; justify-content:center; }
.hide-btn i { font-size:18px; }
.hide-btn:hover { color:#ff4444; background:rgba(255,68,68,0.08); }

#mapFooter { height:64px; display:flex; align-items:center; justify-content:space-between; padding:8px 16px; background:linear-gradient(180deg, #ffffff 0%, #f8fafb 100%); box-shadow:0 -4px 12px rgba(0,0,0,0.08); border-top:1px solid rgba(11,97,164,0.1); }
#mapFooter .footer-left, #mapFooter .footer-right { display:flex; gap:8px; align-items:center; }
#mapFooter button { padding:10px 12px; border-radius:6px; border:1px solid rgba(11,97,164,0.2); background:linear-gradient(135deg, #f3f8fd 0%, #e8f2fb 100%); color:#0b61a4; font-weight:600; cursor:pointer; transition:all 0.3s ease; min-width:40px; text-align:center; display:flex; align-items:center; justify-content:center; gap:6px; }
#mapFooter button i { font-size:16px; }
#mapFooter button:hover { background:linear-gradient(135deg, #e8f2fb 0%, #d8e8f8 100%); border-color:#0b61a4; transform:translateY(-2px); box-shadow:0 4px 8px rgba(11,97,164,0.15); }
#mapFooter button:active { transform:translateY(0); }
#coords { font-weight:700; color:#0b61a4; white-space:nowrap; padding:0 8px; display:flex; align-items:center; gap:6px; }
#coords i { font-size:14px; }

/* Responsive */
@media (max-width:900px){ .panel { display:none; } .topnav .navmenus{display:none;} }

/* Make leaflet controls visible above panels */
.leaflet-top, .leaflet-bottom { z-index:10000; }

/* ensure legend images fit */
#legendContainer img { max-width:100%; height:auto; display:block; border-radius:4px; }
.legend-item { display:flex; align-items:center; gap:8px; padding:8px; border-radius:6px; transition:all 0.2s ease; }
.legend-item:hover { background:rgba(11,97,164,0.05); }
.export-controls label{ display:block; font-weight:600; margin-bottom:8px; color:#0b61a4; display:flex; align-items:center; gap:6px; }
.export-controls label i { font-size:14px; }
.export-controls select{ width:100%; padding:8px 10px; border-radius:6px; border:1px solid rgba(11,97,164,0.2); background:white; font-weight:500; transition:all 0.2s ease; }
.export-controls select:focus { outline:none; border-color:#0b61a4; box-shadow:0 0 0 3px rgba(11,97,164,0.1); }
.export-controls button{ padding:8px 12px; border-radius:6px; border:1px solid rgba(11,97,164,0.2); background:linear-gradient(135deg, #f3f8fd 0%, #e8f2fb 100%); color:#0b61a4; cursor:pointer; font-weight:600; transition:all 0.3s ease; display:flex; align-items:center; gap:6px; }
.export-controls button i { font-size:14px; }
.export-controls button:hover{ background:linear-gradient(135deg, #e8f2fb 0%, #d8e8f8 100%); border-color:#0b61a4; }

/* Modal styles */
.modal { display:none; position:fixed; z-index:65000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.6); pointer-events:auto; }
.modal.show { display:flex; align-items:center; justify-content:center; }
.modal-content { background:white; border-radius:12px; box-shadow:0 12px 40px rgba(0,0,0,0.25); width:90%; max-width:500px; max-height:80vh; overflow-y:auto; z-index:65001; pointer-events:auto; animation:slideUp 0.3s ease; }
@keyframes slideUp { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
.modal-header { padding:18px 22px; border-bottom:2px solid rgba(11,97,164,0.1); display:flex; justify-content:space-between; align-items:center; background:linear-gradient(135deg, rgba(11,97,164,0.04) 0%, transparent 100%); }
.modal-header h2 { margin:0; font-size:20px; font-weight:700; color:#0b61a4; }
.modal-close { background:rgba(11,97,164,0.08); border:none; font-size:26px; cursor:pointer; color:#0b61a4; border-radius:50%; width:36px; height:36px; display:flex; align-items:center; justify-content:center; transition:all 0.2s ease; }
.modal-close:hover { background:rgba(11,97,164,0.15); color:#0b61a4; }
.modal-body { padding:22px; }
.modal-body p { margin:12px 0; line-height:1.5; display:flex; align-items:center; gap:8px; }
.modal-body p i { color:#0b61a4; font-size:16px; }
.modal-body label { padding:8px 0; display:flex; align-items:center; gap:6px; color:#333; margin-bottom:6px; font-weight:600; }
.modal-body label i { color:#0b61a4; font-size:14px; }
.modal-body hr { margin:16px 0; border:none; border-top:1px solid rgba(11,97,164,0.1); }
.modal-footer { padding:16px 22px; border-top:1px solid rgba(11,97,164,0.1); display:flex; gap:10px; justify-content:flex-end; }
.query-options { display:flex; flex-direction:column; gap:10px; margin:12px 0; }
.query-btn { padding:12px 14px; border:1px solid rgba(11,97,164,0.2); border-radius:8px; background:linear-gradient(135deg, #f9f9f9 0%, #f3f3f3 100%); cursor:pointer; font-weight:600; color:#333; transition:all 0.3s ease; display:flex; align-items:center; gap:8px; }
.query-btn::before { content:''; display:inline-block; width:20px; height:20px; background: rgba(11,97,164,0.1); border-radius:4px; }
.query-btn i { font-size:16px; color:#0b61a4; }
.query-btn:hover { background:linear-gradient(135deg, #e8f2fb 0%, #d8e8f8 100%); border-color:#0b61a4; color:#0b61a4; }
.btn-primary { padding:10px 18px; background:linear-gradient(135deg, #0b61a4 0%, #0d7bb8 100%); color:white; border:none; border-radius:8px; cursor:pointer; font-weight:600; transition:all 0.3s ease; display:flex; align-items:center; gap:8px; }
.btn-primary::before { content:'✓'; display:inline-block; font-weight:bold; }
.btn-primary i { font-size:16px; }
.btn-primary:hover { background:linear-gradient(135deg, #0d7bb8 0%, #0a5a91 100%); transform:translateY(-2px); box-shadow:0 6px 16px rgba(11,97,164,0.3); }
.btn-primary:active { transform:translateY(0); }
.btn-secondary { padding:10px 18px; background:#f0f0f0; color:#333; border:1px solid #ddd; border-radius:8px; cursor:pointer; font-weight:600; transition:all 0.3s ease; display:flex; align-items:center; gap:8px; }
.btn-secondary::before { content:'✕'; display:inline-block; }
.btn-secondary i { font-size:16px; }
.btn-secondary:hover { background:#e0e0e0; border-color:#999; }
.layer-checkboxes { display:flex; flex-direction:column; gap:8px; margin:12px 0; max-height:200px; overflow-y:auto; }

/* Custom checkbox/radio styling */
.layer-checkboxes input[type="checkbox"],
.layer-checkboxes input[type="radio"],
#basemapContainer input[type="radio"],
#spatialLayers input[type="checkbox"] {
    accent-color: #0b61a4;
    cursor:pointer;
    width:18px;
    height:18px;
    transition:all 0.2s ease;
}

.layer-checkboxes input[type="checkbox"]:hover,
.layer-checkboxes input[type="radio"]:hover,
#basemapContainer input[type="radio"]:hover,
#spatialLayers input[type="checkbox"]:hover {
    transform:scale(1.1);
}

label { cursor:pointer; user-select:none; }
label input[type="checkbox"],
label input[type="radio"] {
    margin-right:6px;
}

/* Panel header icons */
.panel-header::before {
    content:'';
    width:6px;
    height:6px;
    background:#0b61a4;
    border-radius:50%;
    margin-right:8px;
}

.panel.right .panel-header::before {
    background:#0b61a4;
}

/* Smooth animations */
* {
    transition:background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

/* Hover effects on panel bodies */
.panel-body {
    animation:fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity:0; }
    to { opacity:1; }
}

/* ========== Geolocation Styles ========== */
.geoloc-marker {
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(11, 97, 164, 0.7);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(11, 97, 164, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(11, 97, 164, 0);
    }
}

/* Active geolocation button */
#btn-geolocation.active {
    background: linear-gradient(135deg, #0b61a4, #0d7bb8) !important;
    color: white;
    border-color: #0b61a4;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15);
}

#btn-geolocation.active i {
    animation: spin-pulse 1s infinite;
}

@keyframes spin-pulse {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

